[지침]
'감사일기' 서비스를 만들기 위해 핵심적인 기능 3가지를 제안해주세요. 그리고 사고의 연쇄과정을 통해 가장 중요한 핵심기능 1가지를 선별합니다. 이 선별이유와 예시를 함께 알려주세요.

[맥락]
사용자가 오늘 하루 동안 감사하다고 느꼈었던일 3가지를 50자 내외로 입력하고, 자신의 감정을 입력하는 서비스를만들고 싶습니다. 감사한일 3가지는 '나에 대한 감사, 타인에 대한 감사, 상황에 대한 감사' 이렇게 3가지가 있습니다. 자신의 감정은 '행복, 뿌듯, 편안, 기쁨, 피곤,우울' 이렇게 6가지 중에서 선택하게 됩니다.

---

## 📝 감사일기 서비스 핵심 기능 3가지

### 1. 감사 입력 인터페이스 (입력 구조화 + 감정 선택)
- 사용자 입력 구조화: '나 / 타인 / 상황'의 3가지 범주별 입력 (각 50자 내외)
- 감정 선택: 행복, 뿌듯, 편안, 기쁨, 피곤, 우울 중 선택
- UX 설계 중요도 매우 높음: 한 줄로도 감정 전환 유도 가능하게끔 설계 필요

**예시 입력:**
```
나: 오늘도 감사일기를 쓰면서 정신을 차리고 있는 나에게 감사하다!
타인: 회사에 편하고 나와 잘맞는 동료들이 있어서 감사하다
상황: 비오는날 재택근무를 할수 있어서 감사하다.
감정: 편안
```

### 2. AI 기반 한줄 일기 요약 🧠
- **한줄 일기 요약**: 사용자의 3가지 감사 내용을 20자 내외로 요약
- **통합 저장**: 한 번의 버튼 클릭으로 요약 생성

**예시 출력:**
```
한줄 일기 요약: "감사일기로 정신 차리고 동료들과 재택근무하며 편안한 하루를 보냈어요"
```

### 3. 감정 분석 리포트
- **일기 목록**: 감정과 한줄 일기 요약만 표시하여 가독성 향상
- **월간 감정 리포트**: 감정 분포, 긍정률, 기록률 등 핵심 지표 제공
- '긍정률' 수치화 
    - **긍정적**: `행복`, `기쁨` (2개)
    - **중립적**: `뿌듯`, `편안` (2개) 
    - **부정적**: `피곤`, `우울` (2개)
    - 긍정률 = (행복 + 기쁨 기록 수) / 전체 기록 수 × 100


**예시 리포트:**
```
이번 달, 당신은 15일의 감사일기를 기록했고, 67%의 날에 긍정적인 감정을 느꼈어요.
주요 감정: 편안 (40%), 행복 (27%), 기쁨 (20%)
```

---

## 🎯 핵심 기능 1가지 선정 과정
① 목적 상기
단순한 기록이 아니라 감사의 습관 형성과 감정 성찰을 유도하는 것이 핵심이다.

② 기능-목표 연결성 분석
기능            목적기여도  정서개입    사용지속성유도  데이터축적성
입력 인터페이스 🟢 높음      🟢 기본     🟡 낮음    🟢 높음
AI 한줄 요약  🟢 높음      🟢 높음     🟢 매우 높음    🟠 중간
감정분석 리포트 🟡 중간      🟠 약함     🟢 높음    🟢 매우 높음

③ 최종 선정: AI 기반 한줄 일기 요약

**🎯 선정 이유**
- **기록의 의미 부여**: 단순한 기록을 의미 있는 경험으로 바꿔줌
- **자기 통찰 제공**: 사용자가 "아 나한테 이런 면이 있었네"라고 자기 감정을 더 깊이 이해하는 계기 제공
- **정서적 연결감**: 서비스에 **"내 이야기를 들어주는 누군가"**를 만들어줌
- **사용 동기 강화**: 감사 항목을 매일 쓰는 이유 자체가 생김 ("내 AI가 기다리고 있어")

---

## 💡 추가 개선사항 

### ✅ 구현된 핵심 기능
1. **한줄 일기 요약**: 3가지 감사 내용을 20자 내외로 AI가 요약
2. **통합 저장**: "저장하기" 버튼 하나로 요약 생성
3. **간결한 목록**: 일기 목록에서 감정과 한줄 일기만 표시
4. **월간 리포트**: 감정 분포, 긍정률, 기록률 등 핵심 지표

### 🌤️ 수정 예정 기능
- **긍정률**: 감정-날씨를 매핑하여 날씨 테마를 적용하여 '이번달 날씨'로 변경예정
- **키워드 분석**: 감정일기를 바탕으로 텍스트 분석 로직 추가 예정
- **AI 피드백**: 서비스에 **“내 이야기를 들어주는 누군가”**를 만들어줌 → 정서적 연결감 유발

### 🎨 UX/UI 개선
- **직관적인 버튼**: "저장하기" 하나의 버튼으로 모든 기능 통합
- **로딩 상태**: AI 생성 중 상태 표시
- **토스트 알림**: 저장 완료 시 사용자 피드백
- **반응형 디자인**: 모바일과 데스크톱 모두 최적화

---

## 🔧 기술 스택

| 기능 | 기술 |
|------|------|
| 프론트엔드 | React 18 + TypeScript |
| 상태관리 | React Hooks |
| 저장 | localStorage |
| API 연동 | Gemini-2.0-Flash API |
| 스타일링 | Tailwind CSS + shadcn/ui |
| 배포 | Vite |

---

## 📊 데이터 구조

```typescript
interface GratitudeEntry {
  id: string;
  date: string;
  self: string;        // 나에 대한 감사
  others: string;      // 타인에 대한 감사
  situation: string;   // 상황에 대한 감사
  emotion: Emotion;    // 감정
  summary: string;     // AI 한줄 일기 요약
  createdAt: number;   // 생성 시간
}
```

---

## ✅ 성공 기준 (Success Criteria)

- 사용자의 80% 이상이 "AI 요약이 감정적으로 도움이 되었다"고 평가
- 월간 보고서를 통해 2회 이상 감정 패턴을 돌아본 사용자 비율 ≥ 50%
- 1주 이상 연속 기록 사용자 비율 ≥ 40%
- 일기 목록 가독성 향상으로 사용자 만족도 증가

---

## 💡 부가 포인트
- 경쟁 서비스들과의 차별 포인트 확실
- AI 기능은 MVP 기준으로도 텍스트 기반 단문 생성으로 가볍게 구현 가능
- 요약의 퀄리티는 유저 리텐션에 직결
- 간결한 UI로 사용자 부담 최소화

---

## 🌤️ 향후 개발 계획: 날씨 테마 적용

### 🎯 목표
감정 상태를 직관적인 날씨로 표현하여 사용자의 감정을 더 자연스럽게 받아들이도록 함

### 📋 구현 계획

#### 1. 감정-날씨 매핑
```typescript
const emotionWeatherMap = {
  '행복': '맑음 ☀️',
  '기쁨': '맑음 ☀️', 
  '뿌듯': '구름 조금 ⛅',
  '편안': '맑음 ☀️',
  '피곤': '흐림 ☁️',
  '우울': '비 🌧️'
};
```

#### 2. UI/UX 개선사항
- **감정 선택**: 이모지와 함께 날씨 아이콘 표시
- **일기 목록**: 각 일기마다 해당 날짜의 "날씨" 표시
- **월간 리포트**: "이번 달 날씨 분포" 섹션 추가
- **시각적 효과**: 배경 그라데이션을 날씨에 따라 동적 변경

#### 3. 메시지 개선
- **긍정률 → 맑음 비율**: "67%의 날이 맑았어요"
- **감정 분포**: "맑음 50%, 구름 조금 30%, 흐림 20%"
- **월간 요약**: "이번 달은 대체로 맑은 날씨였어요"

#### 4. 기술적 고려사항
- 기존 데이터 구조 호환성 유지
- 점진적 UI 업데이트로 사용자 경험 최소화
- 날씨별 색상 팔레트 및 애니메이션 효과

---

## ✅ 요약
핵심 기능	요약 설명
1. 감사 입력 인터페이스	‘나/타인/상황’ 구분된 입력 + 감정 선택
2. AI 한줄 요약 | 감사 기록을 요약하는 AI 코멘터리 |
3. 감사 통계 및 감정 리포트	월간 데이터 기반 시각화와 인사이트 제공

**이유**: "사용자와의 정서적 연결성" + "기록의 의미를 각인시키는 메타 인지 강화" + "간결하고 직관적인 사용자 경험" 때문